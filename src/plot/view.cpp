/*! \file view.cpp
 * \brief View class implementation.
 *
 * \authors Dmitrii Leliuhin
 * \date July 2020
*/

//=======================================================================================

#include "view.h"

#include "vlog.h"

using namespace pcl::visualization;

//=======================================================================================

static constexpr int8_t timeout = 100;

//=======================================================================================
View::View( const std::string& name )
{
    _plot.setWindowName( name );
    _plot.setSize( 1600, 900 );
    _plot.addCoordinateSystem( 1.0, "cloud", 0 );
    _plot.setBackgroundColor( 0., 0., 0., 0 );
}
//=======================================================================================
View::~View()
{
    _plot.close();
    vapplication::stop();
}
//=======================================================================================


//=======================================================================================
void View::run()
{
    while( !_plot.wasStopped() )
    {
        _plot.spinOnce( timeout );
    }
}
//=======================================================================================


//=======================================================================================
void View::plot()
{
    vdeb << "Plot data";
}
//=======================================================================================
